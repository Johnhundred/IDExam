jQuery("document").ready(function(){function n(){c=JSON.parse(localStorage.sAdmins)}function a(n){return c=JSON.parse(localStorage.sAdmins),c.admins.push(n),localStorage.sAdmins=JSON.stringify(c),!0}function i(){return null===localStorage.getItem("bAdmin")?(localStorage.bAdmin=!1,m=!1):(m=localStorage.bAdmin,"true"===m.toLowerCase()&&(m=!0)),m}function e(a){var i=o(a).children("#lblAdminUsername").val(),e=o(a).children("#lblAdminPassword").val();n();for(var d=c.admins.length,s=0;s<d;s++){if(c.admins[s].username==i&&c.admins[s].password==e){localStorage.bAdmin=!0,t(),o(".wdw-admin-picker").fadeIn(),u||l(!0);break}localStorage.bAdmin=!1,u||l(!1)}o(a).children("#lblAdminUsername").val(""),o(a).children("#lblAdminPassword").val("")}function l(n){u=!0,n?(o("#lblAdminLogin span").text("Login successful.").fadeIn(),setTimeout(function(){o("#lblAdminLogin span").fadeOut(),u=!1},1e3)):(o("#lblAdminLogin span").text("Login failed.").fadeIn(),setTimeout(function(){o("#lblAdminLogin span").fadeOut(),u=!1},1e3))}function d(i){var e=o(i).children("#lblAdminNewUsername").val(),l=o(i).children("#lblAdminNewPassword").val();n();var d={};d.id=r(),d.username=e,d.password=l,a(d),o(i).children("#lblAdminNewUsername").val(""),o(i).children("#lblAdminNewPassword").val(""),t()}function s(n){1==i()&&(o(".pick-window").css("display","none"),o(n).hasClass("admin-event-list")?o(".wdw-event-list").fadeIn():o(n).hasClass("admin-partner-list")?o(".wdw-partner-list").fadeIn():o(n).hasClass("admin-admin-list")&&(t(),o(".wdw-admin-list").fadeIn(),console.log("admin")))}function t(){var a="";n();for(var i=c.admins.length,e=0;e<i;e++)a+=f.replace("{{name}}",c.admins[e].username),a=a.replace("{{id}}",c.admins[e].id);o(".wdw-admin-list div").empty().append(a)}function r(){var n="";return n=(Math.random().toString(16)+"000000000").substr(2,8),n+=o.now().toString()}var o=jQuery.noConflict();console.log("Page loaded and ready.");var m,c={admins:[]},u=!1,f='<div class="admin-list-item"><h3>Name: {{name}}</h3><h3>ID: {{id}}</h3></div>';!function(){if(null===localStorage.getItem("sAdmins")){var n={id:r(),username:"admin",password:"admin"};c.admins.push(n),localStorage.sAdmins=JSON.stringify(c)}else c=JSON.parse(localStorage.sAdmins),console.log(c)}(),o("#lblAdminLogin").submit(function(n){n.preventDefault(),e(this)}),o("#lblAdminCreate").submit(function(n){n.preventDefault(),d(this)}),o(".wdw-admin-picker ul li a").click(function(){s(this)}),setInterval(function(){1==i()?o(".wdw-admin-picker").fadeIn():(o(".wdw-admin-picker").fadeOut(),o(".pick-window").fadeOut())},500),setInterval(function(){1==i()&&t()},1e4)});